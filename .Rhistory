table = data.frame(Title = titles, Upvotes = upvotes, Content = content, Pics = pic)
table
rd <- remoteDriver(browser = "chrome", port = 4560L)
rd$open(silent = TRUE)
rd$navigate("https://www.reddit.com/")
page = "Swimming"
url = paste("https://www.reddit.com/r/", page, sep = "")
rd$navigate(url)
n <- 0
for (i in 1:n) {
rd$executeScript("window.scrollTo(0,document.body.scrollHeight)")
}
html = rd$getPageSource() %>%
str_flatten() %>%
read_html()
print(html_text(html))
all = html %>% html_nodes("div.Post")
titles = c()
upvotes = c()
content = c()
pic = c()
for(node in all) {
t = node %>%
html_nodes("h3._eYtD2XCVieq6emjKBH3m") %>%
html_text()
u = node %>%
html_nodes("div._1rZYMD_4xY3gRcSS3p8ODO") %>%
html_text()
c = node %>%
html_nodes("div.STit0dLageRsa2yR4te_b")
contentTexts = c %>% html_nodes("p") %>% html_text()
contentPic = c %>% html_nodes("img") %>% html_text()
if(u[1] != '•') {
upvotes = append(upvotes, u[1])
pic = append(pic, length(contentPic) > 0)
if(length(contentTexts) == 0) {
contentTexts = "No Text"
}
cT = ""
for(cont in contentTexts) {
cT = paste(cT, cont, sep = " ")
}
content = append(content, cT)
titles = append(titles, t[1])
}
}
table = data.frame(Title = titles, Upvotes = upvotes, Content = content, Pics = pic)
table
server <- chrome(port = 4560L, verbose = FALSE, version = "80.0.3987.106")
rd <- remoteDriver(browser = "chrome", port = 4560L)
rd$open(silent = TRUE)
rd$navigate("https://www.reddit.com/")
page = "Swimming"
url = paste("https://www.reddit.com/r/", page, sep = "")
rd$navigate(url)
n <- 0
for (i in 1:n) {
rd$executeScript("window.scrollTo(0,document.body.scrollHeight)")
}
html = rd$getPageSource() %>%
str_flatten() %>%
read_html()
print(html_text(html))
all = html %>% html_nodes("div.Post")
titles = c()
upvotes = c()
content = c()
pic = c()
for(node in all) {
t = node %>%
html_nodes("h3._eYtD2XCVieq6emjKBH3m") %>%
html_text()
u = node %>%
html_nodes("div._1rZYMD_4xY3gRcSS3p8ODO") %>%
html_text()
c = node %>%
html_nodes("div.STit0dLageRsa2yR4te_b")
contentTexts = c %>% html_nodes("p") %>% html_text()
contentPic = c %>% html_nodes("img") %>% html_text()
if(u[1] != '•') {
upvotes = append(upvotes, u[1])
pic = append(pic, length(contentPic) > 0)
if(length(contentTexts) == 0) {
contentTexts = "No Text"
}
cT = ""
for(cont in contentTexts) {
cT = paste(cT, cont, sep = " ")
}
content = append(content, cT)
titles = append(titles, t[1])
}
}
table = data.frame(Title = titles, Upvotes = upvotes, Content = content, Pics = pic)
table
rd <- remoteDriver(browser = "chrome", port = 4560L)
rd$open(silent = TRUE)
rd$navigate("https://www.reddit.com/")
page = "Swimming"
url = paste("https://www.reddit.com/r/", page, sep = "")
rd$navigate(url)
n <- 5
for (i in 1:n) {
rd$executeScript("window.scrollTo(0,document.body.scrollHeight)")
}
html = rd$getPageSource() %>%
str_flatten() %>%
read_html()
print(html_text(html))
all = html %>% html_nodes("div.Post")
titles = c()
upvotes = c()
content = c()
pic = c()
for(node in all) {
t = node %>%
html_nodes("h3._eYtD2XCVieq6emjKBH3m") %>%
html_text()
u = node %>%
html_nodes("div._1rZYMD_4xY3gRcSS3p8ODO") %>%
html_text()
c = node %>%
html_nodes("div.STit0dLageRsa2yR4te_b")
contentTexts = c %>% html_nodes("p") %>% html_text()
contentPic = c %>% html_nodes("img") %>% html_text()
if(u[1] != '•') {
upvotes = append(upvotes, u[1])
pic = append(pic, length(contentPic) > 0)
if(length(contentTexts) == 0) {
contentTexts = "No Text"
}
cT = ""
for(cont in contentTexts) {
cT = paste(cT, cont, sep = " ")
}
content = append(content, cT)
titles = append(titles, t[1])
}
}
table = data.frame(Title = titles, Upvotes = upvotes, Content = content, Pics = pic)
table
rd <- remoteDriver(browser = "chrome", port = 4560L)
rd$open(silent = TRUE)
rd$navigate("https://www.reddit.com/")
page = "Swimming"
url = paste("https://www.reddit.com/r/", page, sep = "")
rd$navigate(url)
n <- 5
for (i in 1:n) {
rd$executeScript("window.scrollTo(0,document.body.scrollHeight)")
}
html = rd$getPageSource() %>%
str_flatten() %>%
read_html()
print(html_text(html))
all = html %>% html_nodes("div.Post")
titles = c()
upvotes = c()
content = c()
pic = c()
for(node in all) {
t = node %>%
html_nodes("h3._eYtD2XCVieq6emjKBH3m") %>%
html_text()
u = node %>%
html_nodes("div._1rZYMD_4xY3gRcSS3p8ODO") %>%
html_text()
c = node %>%
html_nodes("div.STit0dLageRsa2yR4te_b")
contentTexts = c %>% html_nodes("p") %>% html_text()
contentPic = c %>% html_nodes("img") %>% html_text()
if(u[1] != '•') {
upvotes = append(upvotes, u[1])
pic = append(pic, length(contentPic) > 0)
if(length(contentTexts) == 0) {
contentTexts = "No Text"
}
cT = ""
for(cont in contentTexts) {
cT = paste(cT, cont, sep = " ")
}
content = append(content, cT)
titles = append(titles, t[1])
}
}
table = data.frame(Title = titles, Upvotes = upvotes, Content = content, Pics = pic)
table
rd <- remoteDriver(browser = "chrome", port = 4560L)
rd$open(silent = TRUE)
rd$navigate("https://www.reddit.com/")
page = "Swimming"
url = paste("https://www.reddit.com/r/", page, sep = "")
rd$navigate(url)
n <- 100
for (i in 1:n) {
rd$executeScript("window.scrollTo(0,document.body.scrollHeight)")
}
html = rd$getPageSource() %>%
str_flatten() %>%
read_html()
all = html %>% html_nodes("div.Post")
titles = c()
upvotes = c()
content = c()
pic = c()
for(node in all) {
t = node %>%
html_nodes("h3._eYtD2XCVieq6emjKBH3m") %>%
html_text()
u = node %>%
html_nodes("div._1rZYMD_4xY3gRcSS3p8ODO") %>%
html_text()
c = node %>%
html_nodes("div.STit0dLageRsa2yR4te_b")
contentTexts = c %>% html_nodes("p") %>% html_text()
contentPic = c %>% html_nodes("img") %>% html_text()
if(u[1] != '•') {
upvotes = append(upvotes, u[1])
pic = append(pic, length(contentPic) > 0)
if(length(contentTexts) == 0) {
contentTexts = "No Text"
}
cT = ""
for(cont in contentTexts) {
cT = paste(cT, cont, sep = " ")
}
content = append(content, cT)
titles = append(titles, t[1])
}
}
table = data.frame(Title = titles, Upvotes = upvotes, Content = content, Pics = pic)
table
rd <- remoteDriver(browser = "chrome", port = 4560L)
rd$open(silent = TRUE)
rd$navigate("https://www.reddit.com/")
rd <- remoteDriver(browser = "chrome", port = 4560L)
rd$open(silent = TRUE)
rd$navigate("https://www.reddit.com/")
page = "Swimming"
url = paste("https://www.reddit.com/r/", page, sep = "")
rd$navigate(url)
n <- 100
for (i in 1:n) {
rd$executeScript("window.scrollTo(0,document.body.scrollHeight)")
Sys.sleep(1)
}
html = rd$getPageSource() %>%
str_flatten() %>%
read_html()
all = html %>% html_nodes("div.Post")
titles = c()
upvotes = c()
content = c()
pic = c()
for(node in all) {
t = node %>%
html_nodes("h3._eYtD2XCVieq6emjKBH3m") %>%
html_text()
u = node %>%
html_nodes("div._1rZYMD_4xY3gRcSS3p8ODO") %>%
html_text()
c = node %>%
html_nodes("div.STit0dLageRsa2yR4te_b")
contentTexts = c %>% html_nodes("p") %>% html_text()
contentPic = c %>% html_nodes("img") %>% html_text()
if(u[1] != '•') {
upvotes = append(upvotes, u[1])
pic = append(pic, length(contentPic) > 0)
if(length(contentTexts) == 0) {
contentTexts = "No Text"
}
cT = ""
for(cont in contentTexts) {
cT = paste(cT, cont, sep = " ")
}
content = append(content, cT)
titles = append(titles, t[1])
}
}
table = data.frame(Title = titles, Upvotes = upvotes, Content = content, Pics = pic)
table
runApp('project.r')
runApp('project.r')
runApp('project.r')
rm(list = ls())
runApp('project.r')
runApp('project.r')
runApp('project.r')
runApp('project.r')
runApp('project.r')
runApp('project.r')
runApp('project.r')
runApp('project.r')
library(httr)
library(jsonlite)
ep = GET("https://geo.fcc.gov/api/census/area?", query = list(
lat = 38.5449,
lon = -121.7405,
format = 'json'
))
j = content(ep, as = "text")
JSON = fromJSON(j, flatten = TRUE)
print(paste("County Code: ", JSON$results$county_fips[1]))
print(paste("State Code: ", JSON$results$state_fips[1]))
r <- GET("https://api.census.gov/data/2018/pep/population",
query = list(
key = Sys.getenv("CENSUS_API_KEY"),
get = "POP",
`for` = "us"
))
json <- content(r, as = "text")
fromJSON(json, simplifyMatrix = FALSE)
endpoint = GET("https://api.census.gov/data/2018/pep/population", query = list(
key = Sys.getenv("CENSUS_API_KEY"), get = "GEONAME,POP", `for` = "state:*"
))
json <- content(endpoint, as = "text")
frame = fromJSON(json, simplifyMatrix = TRUE)
ordered =frame[order(as.integer(frame[,2]), decreasing = TRUE),]
ordered[10]
r <- GET("https://api.census.gov/data/2018/pep/population",
query = list(
key = Sys.getenv("CENSUS_API_KEY"),
get = "GEONAME,POP",
`for` = "county:*"
))
json <- content(r, as = "text")
result = fromJSON(json, simplifyMatrix = TRUE)
str = "Yolo County, California"
for(i in 1:length(result)) {
if(str == result[i])
print(result[i,2])
}
r <- GET("https://api.census.gov/data/2018/pep/population",
query = list(
key = Sys.getenv("CENSUS_API_KEY"),
get = "GEONAME,POP",
`for` = "county:06113"
`in` = "state:06"
r <- GET("https://api.census.gov/data/2018/pep/population",
query = list(
key = Sys.getenv("CENSUS_API_KEY"),
get = "GEONAME,POP",
`for` = "county:06113",
`in` = "state:06"
))
r <- GET("https://api.census.gov/data/2018/pep/population",
query = list(
key = Sys.getenv("CENSUS_API_KEY"),
get = "GEONAME,POP",
`for` = "county:06113",
`in` = "state:06"
))
json <- content(r, as = "text")
result = fromJSON(json, simplifyMatrix = TRUE)
r <- GET("https://api.census.gov/data/2018/pep/population",
query = list(
key = Sys.getenv("CENSUS_API_KEY"),
get = "GEONAME,POP",
`for` = "county:06113"
))
json <- content(r, as = "text")
result = fromJSON(json, simplifyMatrix = TRUE)
r <- GET("https://api.census.gov/data/2018/pep/population",
query = list(
key = Sys.getenv("CENSUS_API_KEY"),
get = "GEONAME,POP",
`for` = "county:113"
))
json <- content(r, as = "text")
result = fromJSON(json, simplifyMatrix = TRUE)
r <- GET("https://api.census.gov/data/2018/pep/population",
query = list(
key = Sys.getenv("CENSUS_API_KEY"),
get = "GEONAME,POP",
`for` = "county:113"
`in` = "state:06"
r <- GET("https://api.census.gov/data/2018/pep/population",
query = list(
key = Sys.getenv("CENSUS_API_KEY"),
get = "GEONAME,POP",
`for` = "county:113",
`in` = "state:06"
))
json <- content(r, as = "text")
result = fromJSON(json, simplifyMatrix = TRUE)
str = "Yolo County, California"
for(i in 1:length(result)) {
if(str == result[i])
print(result[i,2])
}
runApp('project.r')
content = append(content, cT)
runApp('project.r')
runApp('project.r')
server <- chrome(port = 4560L, verbose = FALSE, version = "80.0.3987.106")
rd <- remoteDriver(browser = "chrome", port = 4560L)
rd$open(silent = TRUE)
rd$navigate("https://www.reddit.com/")
page = "Swimming"
url = paste("https://www.reddit.com/r/", page, sep = "")
rd$navigate(url)
n <- 100
for (i in 1:n) {
rd$executeScript("window.scrollTo(0,document.body.scrollHeight)")
Sys.sleep(1)
}
html = rd$getPageSource() %>%
str_flatten() %>%
read_html()
all = html %>% html_nodes("div.Post")
titles = c()
upvotes = c()
content = c()
pic = c()
for(node in all) {
t = node %>%
html_nodes("h3._eYtD2XCVieq6emjKBH3m") %>%
html_text()
u = node %>%
html_nodes("div._1rZYMD_4xY3gRcSS3p8ODO") %>%
html_text()
c = node %>%
html_nodes("div.STit0dLageRsa2yR4te_b")
contentTexts = c %>% html_nodes("p") %>% html_text()
contentPic = c %>% html_nodes("img") %>% html_text()
if(u[1] != '•') {
upvotes = append(upvotes, u[1])
pic = append(pic, length(contentPic) > 0)
if(length(contentTexts) == 0) {
contentTexts = "No Text"
}
cT = ""
for(cont in contentTexts) {
cT = paste(cT, cont, sep = " ")
}
content = append(content, cT)
titles = append(titles, t[1])
}
}
table = data.frame(Title = titles, Upvotes = upvotes, Content = content, Pics = pic)
table
library(rvest)
library(RSelenium)
library(wdman)
library(tidyverse)
server <- chrome(port = 4565L, verbose = FALSE, version = "80.0.3987.106")
server$end
server <- chrome(port = 4565L, verbose = FALSE, version = "80.0.3987.106")
rd <- remoteDriver(browser = "chrome", port = 4565L)
rd$open(silent = TRUE)
rd$navigate("https://www.imdb.com/title/tt2527338/reviews")
html
i = 30
while(i > 0){
nextbutton = rd$findElement("class name", "load-more-data")
nextbutton$clickElement()
html = rd$getPageSource() %>%
str_flatten() %>%
read_html()
i = i - 1
Sys.sleep(2)
}
all = html_nodes(html, "div.lister-item-content")
title = c()
rating = c()
content = c()
user = c()
date = c()
for(node in all) {
t = node %>%
html_nodes("a.title") %>%
html_text() %>% str_replace_all("\n", "")
r = node %>%
html_nodes("span.rating-other-user-rating") %>%
html_text() %>% str_replace_all(" ", "") %>% str_replace_all("\n", "")
c = node %>%
html_nodes("div.content") %>%
html_nodes("div.text") %>%
html_text() %>% str_replace_all("\n", " ")
u = node %>%
html_nodes("div.display-name-date") %>%
html_nodes("a") %>%
html_text()
d = node %>%
html_nodes("div.display-name-date") %>%
html_nodes("span.review-date") %>%
html_text()
if(length(t) == 0){
t = "No Title"
}
title = append(title, t)
if(length(r) == 0){
r = "No Rating"
}
rating = append(rating, r)
if(length(c) == 0){
c = "No Content"
}
content = append(content, c)
if(length(u) == 0){
u = "No User"
}
user = append(user, u)
if(length(d) == 0){
d = "No Date"
}
date = append(date, d)
}
table = data.frame(Title = title, Rating = rating, Content = content, User = user, Date = date)
table
server$end
write.csv(table,"~/Downloads/newTable.csv")
